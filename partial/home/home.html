<div class="row clearfix">
    <div class="col-md-12">
        <div>
            <button ng-click="flush()">flush</button>
        </div>
        <div class="character-class-container">
            <character-class
                ng-repeat="index in childClassesIndexes"
                index="index"/>
        </div>
        <div class="row clearfix">
            <button ng-click="refreshLinks()">refreshLinks</button>
            <svg width="100%" height="350px">
                <foreignObject
                    ng-repeat="attr in attributes"
                    ng-attr-x={{attr.gfx.x}} ng-attr-y={{attr.gfx.y}}
                    width="200" height="2em"
                    >
                    {{attr.id}}
                    <input style="display:inline-block;" ng-model="attr.value">
                </foreignObject>
                <foreignObject
                    ng-repeat="trait in traits"
                    ng-attr-x={{trait.gfx.x}} ng-attr-y={{trait.gfx.y}}
                    width="400" height="3em"
                    >
                    <span>{{trait.id}}</span>
                    <input ng-model="trait.formula">
                    <button ng-click="trait.value = trait.fn(attributes, trait.formula)">Refresh</button>
                    <span>{{trait.value}}</span>
                <line ng-repeat="link in links"
                      stroke="black"
                      stroke-width="2"
                      ng-attr-x1="{{link.x1}}"
                      ng-attr-x2="{{link.x2}}"
                      ng-attr-y1="{{link.y1}}"
                      ng-attr-y2="{{link.y2}}"
                    ></line>
            </svg>
        </div>
    </div>
</div>
